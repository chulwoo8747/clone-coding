<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="./style.css" rel="stylesheet"/>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <title>DMS</title>
    </head>
    <body bgcolor="#00CCCC">
        <div class="top">
            
            <div class="topleft"> 
                <a class="ghjk" href="">
                    <img src="logo.png" width="36" height="36"/>
                    <div class="span">
                        <span style="font-size: x-large;"><b>DMS</b></span>
                    </div>
                </a>
                
                <div class="topright">
                    <span><a class="qwer" href=""><b>신청화면</b></a></span>
                    <span><a class="qwer" href=""><b>안내사항</b></a></span>
                    <span><a class="qwer" href=""><b>부가기능</b></a></span>
                    <span><a class="qwer" href=""><b>내 정보</b></a></span>
                </div>
            </div>
            
            <div class="rmqtlr">
                <span><a class="menu"><b>오늘의 메뉴</b></a></span>
                <span><a class="day">2022년 11월 4일 금요일</a></span>
            </div>
            
            <div class="body">
                <div class="container"><b></b>
                    <div class="dkcla">    
                    </div>    
                </div>
                <div class="container"><b></b>
                    <duv class="wjatla">
                    </duv>
                </div>
                <div class="container">
                    <div class="break">
                    </div>
                </div> 
                <div class="picutre">
                    <img src="DMS 디자인.png">
                </div>
            </div>    
        </div>
        <footer>
    <button class="dlwjs"
    type="button">
    이전</button>
    
    <button class="ekdma"
    type="button">
    다음</button>
</footer>
<script>
    const beforeBtn = document.querySelector(".dlwjs");
    const nextBtn = document.querySelector(".ekdma");
    const breakfast = document.getElementsByClassName("container")[0];
    const lunch = document.getElementsByClassName("container")[1];
    const dinner = document.getElementsByClassName("container")[2];
    const nowDate = document.querySelector(".day");

    const date = new Date();
    let year = date.getFullYear()
    let month = date.getMonth() + 1
    let day = date.getDate()

    getMeal(`${year}-${month}-${`${day}`.padStart(2, '0')}`);
<<<<<<< Updated upstream
    nowDate.innerText = `${year}년 ${month}월 ${`${day}`.padStart(2, '0')}일`;


    beforeBtn.addEventListener("click", () => {
        if (day === 0) 
=======
    

    beforeBtn.addEventListener("click", () => {
        if (day === -1) 
>>>>>>> Stashed changes
        {
            day = new Date(year,month-1,0).getDate();
            month = (month - 1) % 12 === 0 ? 12 : (month - 1) % 12;
        }
<<<<<<< Updated upstream
            else day -= 1
=======
            else day -= 1;
>>>>>>> Stashed changes

        const today = `${year}-${month}-${`${day}`.padStart(2, '0')}`;
        getMeal(today);
    })

    nextBtn.addEventListener("click", () => {
        if (day === new Date(year,month,0).getDate())
        {
            month = (month + 1) % 12 === 0 ? 12 : (month + 1) % 12;
            day = 1;
        }
<<<<<<< Updated upstream
        else day = day + 1
        const today = `${year}-${month}-${`${day}`.padStart(2, '0')}`;
=======
        else day = day + 1;
         const today = `${year}-${month}-${`${day}`.padStart(2, '0')}`;
>>>>>>> Stashed changes
        getMeal(today);
    })

    function getMeal(today) {
        axios.get(`https://api.dsm-dms.com/meal/${today}`).then((e) =>{
            console.log(e.data)
            breakfast.innerText = e.data[`${today}`].breakfast.join('\n')
            lunch.innerText = e.data[`${today}`].lunch.join('\n')
            dinner.innerText = e.data[`${today}`].dinner.join('\n')
        })
<<<<<<< Updated upstream
         nowDate.innerText = `${year}년 ${month}월 ${`${day}`.padStart(2, '0')}일`;
=======
        nowDate.innerText = `${year}년 ${month}월 ${`${day}`.padStart(2, '0')}일`;
>>>>>>> Stashed changes
    }

   
    
</script>
</html>